<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Construction aNd Production</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 10px;
            padding: 20px 10px;
        }
        header {
            background-color: #333;
            color: white;
            padding: 1em;
            text-align: center;
        }
        footer {
            background-color: #333;
            color: white;
            padding: 1em;
            text-align: center;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        a {
            color: #333;
        }
        a:hover, a:active {
            color: #666;
            text-decoration: underline;
        }
        #bean {
            position: absolute;
            font-size: 32px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            transform: rotate(0deg);
            transition: transform 0.1s ease;
            pointer-events: none; /* Zorgt dat het de muisklikken niet blokkeert */
        }
        
        main {
            display: flex;
            gap: 20px; /* Ruimte tussen hoofdinhoud en aside */
        }

        section {
            flex: 1; /* Neemt de resterende ruimte in binnen main */
        }

        aside {
            min-width: 500px; /* Vaste breedte voor aside */
            font-size: 0.9em;
            background-color: #f9f9f9;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        aside pre {
            font-size: 0.85em;
            max-height: 200px; /* Beperkte hoogte voor codeblok */
            overflow-y: auto;
            background-color: #f0f0f0;
            padding: 8px;
            border-radius: 4px;
            white-space: pre-wrap; /* Zet tekst wrapping aan */
            word-wrap: break-word; /* Zorgt ervoor dat lange woorden afbreken als nodig */
        }

    </style>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>    
</head>
<body>
    <header>
        <h1>Project Construction aNd Production</h1>
    </header>
    <main>
        <section>
            <p>Welkom! Nog geen fancy artwork. Klik daarvoor - en voor informatie naar de course of project websites:</p>
            <ul>
                <li><a href="/bewd">BEWD</a> - Backend Web Development</li>
                <li><a href="/fewd">FEWD</a> - Front-end Web Development</li>
                <li><a href="/fswd">FSWD</a> - Full Stack Web Development</li>
                <li><a href="/pwac">PWAC</a> - Project Web Application Construction</li>
            </ul>
        </section>
        <aside>
            <h2>Is dat alles? (&lt;aside&gt;)</h2>
            <p>Dit is een 'doorlink pagina'. En een 'mooi' voorbeeld hoe een pagina zonder CSS of UI component framework eruit ziet ;).</p>
            <p>Albert Einstein zei ooit: <q>De verbeelding is belangrijker dan kennis.</q></p>
            <p>Dus geen CSS-framework, maar hieronder wel een stukje (Vanilla) JavaScript om een dansend boontje te krijgen dat je muis volgt<sup>*</sup>!</p><br/>
            <p><sup>*</sup>Of andere gedragingen: selecteer via deze radio button een volgens Strategy pattern en polymorphisme geimplementeerde, zoals je leerde bij OOPD, want dat kan ook gewon op de front-end ;).</p>
            <div>
                <label><input type="radio" name="bean-mode" value="none" checked> Geen effect</label><br/>
                <label><input type="radio" name="bean-mode" value="leaf"> Dwarrelend blaadje</label><br/>
                <label><input type="radio" name="bean-mode" value="bean"> Springende boon</label><br/>
            </div>
            <div id="bean"></div>
            <details>
                <summary><h2>Code</h2></summary>
                <pre><code class="language-javascript">
// Laat een boontje de muis volgen en dansen.
// Code smell 'comments': zoals (helaas) vaker loopt deze documentatie achter bij de echte code.
// Of in dit geval de getoonde (voorbeeld) code in de docs bij de echte gebruikte code.
// In dit geval zeggen de comments je dat dit code is voor een draaiende boon, maar de echte code heeft een meer dansende boon, maar zie broncode.
// Want de integrale code is te lang om hier te tonen.
document.addEventListener('mousemove', function(e) {
    const bean = document.getElementById('bean');
    ...
    // Muispositie bijwerken
    targetX = e.pageX; // Gebruik pageX in plaats van clientX
    targetY = e.pageY; // Gebruik pageY in plaats van clientY
                    
    // Verplaats het boontje naar de muispositie
    bean.style.left = mouseX + 'px';
    bean.style.top = mouseY + 'px';

    // Laat het boontje draaien voor een speels effect
    const rotation = (mouseX + mouseY) % 360; // Geef een draai die afhangt van muispositie
    bean.style.transform = `rotate(${rotation}deg)`;
});
                </code></pre>
            </details>
        </aside>
    </main>
    <footer>&copy; 2024 AIM / HAN - Hogeschool Arnhem Nijmegen</footer>
    <script>
    class NoEffect {
        move(bean, targetX, targetY) {
            bean.style.left = targetX + 'px';
            bean.style.top = targetY + 'px';
        }
    }

    class LeafEffect {
        constructor() {
            this.beanX = 0;
            this.beanY = 0;
            this.hop = 0;
            this.rotation = 0;
            setInterval(() => {
                this.hop = Math.random() * 20 - 10; // Update de hop minder vaak
            }, 500);
        }

        move(bean, targetX, targetY) {
            // Bereken de nieuwe posities met een lichte vertraging (0.1)
            this.beanX += (targetX - this.beanX) * 0.1;
            this.beanY += (targetY - this.beanY) * 0.1;

            // Voeg een sinusfunctie toe voor wiegende rotatie en zijwaartse beweging
            const wiggle = Math.sin(Date.now() / 200) * 15; // Rotatie heen en weer
            this.rotation = Math.sin(Date.now() / 300) * 15; // Zacht draaien

            // Toepassen van wiegende beweging en rotatie op het blaadje
            bean.style.left = (this.beanX + wiggle) + 'px';
            bean.style.top = (this.beanY + this.hop) + 'px';
            bean.style.transform = `translate(-50%, -50%) rotate(${this.rotation}deg)`;
        }
    }

    class BeanEffect {
        constructor() {
            this.beanX = 0;
            this.beanY = 0;
            this.jumpHeight = 0;
        }

        move(bean, targetX, targetY) {
            this.beanX += (targetX - this.beanX) * 0.1;
            this.beanY += (targetY - this.beanY) * 0.1;
            this.jumpHeight = Math.abs(Math.sin(Date.now() / 300) * 15); // springende beweging
            bean.style.left = this.beanX + 'px';
            bean.style.top = (this.beanY - this.jumpHeight) + 'px';
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        const bean = document.getElementById('bean');
        let targetX = 0, targetY = 0;
        let strategy = new NoEffect();

        // Muispositie bijwerken
        document.addEventListener('mousemove', (e) => {
            targetX = e.pageX; // Gebruik pageX in plaats van clientX
            targetY = e.pageY; // Gebruik pageY in plaats van clientY
        });

        // Animatie op basis van de geselecteerde strategie
        function animateBean() {
            strategy.move(bean, targetX, targetY);
            requestAnimationFrame(animateBean);
        }

        // Strategie bijwerken bij selectie van radio button
        document.querySelectorAll('input[name="bean-mode"]').forEach((radio) => {
            radio.addEventListener('change', (e) => {
                const mode = e.target.value;
                if (mode === 'none') {
                    bean.textContent = '';
                    strategy = new NoEffect();
                }
                if (mode === 'leaf') {
                    strategy = new LeafEffect();
                    bean.textContent = 'üçÉ';
                }
                if (mode === 'bean') {
                    strategy = new BeanEffect();
                    bean.textContent = 'ü´ò'; // Bruine boon emoji
                }
            });
        });

        // Start de animatie
        animateBean();
    });
</script>
    
</body>
</html>